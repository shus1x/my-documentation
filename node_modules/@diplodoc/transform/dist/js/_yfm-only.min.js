"use strict";(()=>{(()=>{var p=t=>{let e=t.composedPath();return Array.isArray(e)&&e.length>0?e[0]:t.target},B=t=>{let e=p(t);return!e||!e.matches},b={TITLE:".yfm .yfm-term_title",CONTENT:".yfm .yfm-term_dfn"},s="open",d=b.CONTENT.replace(/\./g,"")+" "+s,f=!0;function S(t){var e;let n=t.getAttribute("term-key"),o=document.getElementById(`${n}_template`),i=o==null?void 0:o.content.cloneNode(!0).firstChild;return(e=o==null?void 0:o.parentElement)==null||e.appendChild(i),o.remove(),i}function I(t,e){let n=e.getAttribute("id")||Math.random().toString(36).substr(2,8);t==null||t.setAttribute("term-id",n)}function P(t,e){let n=e.getAttribute("aria-live")||"polite";t==null||t.setAttribute("aria-live",n),t==null||t.setAttribute("aria-modal","true")}function y(t,e){let{x:n,y:o,right:i,left:c,width:l,height:v}=e.getBoundingClientRect(),r=T(e);if(!r)return;let{right:h,left:O}=r.getBoundingClientRect();if((h<c||O>i)&&!f){a(t);return}f&&r&&(r.addEventListener("scroll",L),f=!1);let R=Number(t.getAttribute("relativeX")),k=Number(t.getAttribute("relativeY"));if(R===n&&k===o)return;t.setAttribute("relativeX",String(n)),t.setAttribute("relativeY",String(o));let x=v+5,u=t.parentElement;if(!u)return;let{width:g}=t.getBoundingClientRect(),{left:W}=u.getBoundingClientRect(),A=Number(m(e).left),C=g+A,X=A-g<0,N=C>document.body.clientWidth,Y=(N||document.dir==="rtl")&&!X?g-l:0,_=m(u).top-u.offsetTop,F=N?C-document.body.clientWidth+5:0,D=m(e).left-W+u.offsetLeft-Y,K=D+g>=document.body.clientWidth;t.style.top=Number(m(e).top+x-_)+"px",t.style.left=Number(D-(K?F:0))+"px"}function L(){let t=document.getElementsByClassName(d)[0];if(!t)return;let e=t.getAttribute("term-id")||"",n=document.getElementById(e);n&&y(t,n)}function T(t){return t?t.closest("table")||t.closest("code")||t.parentElement:null}function E(t){let e=document.getElementsByClassName(d)[0],n=t.getAttribute("id"),o=t.getAttribute("term-key"),i=document.getElementById(o+"_element");if(o&&!i&&(i=S(t)),e&&n===e.getAttribute("term-id")){a(e);return}let l=t.closest([b.CONTENT.replace(" ",""),s].join("."));e&&!l&&a(e),!(!t.matches(b.TITLE)||!i)&&(I(i,t),P(i,t),y(i,t),i.classList.toggle(s),w(i))}function a(t){t.classList.remove(s);let e=t.getAttribute("term-id")||"",n=document.getElementById(e),o=T(n);o&&(o.removeEventListener("scroll",L),n==null||n.focus(),f=!0)}function m(t){let e=t.getBoundingClientRect(),n=document.body,o=document.documentElement,i=window.pageYOffset||o.scrollTop||n.scrollTop,c=window.pageXOffset||o.scrollLeft||n.scrollLeft,l=o.clientTop||n.clientTop||0,v=o.clientLeft||n.clientLeft||0,r=e.top+i-l,h=e.left+c-v;return{top:Math.round(r),left:Math.round(h)}}function w(t){let e=t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=e[0],o=e[e.length-1];n&&n.focus(),t.addEventListener("keydown",function(i){(i.key==="Tab"||i.keyCode===9)&&(i.shiftKey?document.activeElement===n&&(o.focus(),i.preventDefault()):document.activeElement===o&&(n.focus(),i.preventDefault()))})}typeof document!="undefined"&&(document.addEventListener("click",t=>{(p(t)||!B(t))&&E(p(t))}),document.addEventListener("keydown",t=>{let e=document.getElementsByClassName(d)[0];t.key==="Enter"&&document.activeElement&&E(document.activeElement),t.key==="Escape"&&e&&a(e)}),window.addEventListener("resize",()=>{let t=document.getElementsByClassName(d)[0];if(!t)return;let e=t.getAttribute("term-id")||"",n=document.getElementById(e);if(!n){t.classList.toggle(s);return}y(t,n)}))})();})();
//# sourceMappingURL=_yfm-only.min.js.map
