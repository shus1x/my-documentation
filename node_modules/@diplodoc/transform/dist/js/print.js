"use strict";
(() => {
  // src/js/print/table.ts
  var Selector = {
    WRAPPED_TABLE: ".pdf .yfm-table-container table",
    TABLE: ".pdf table"
  };
  var Padding = {
    BOTTOM: 20
  };
  function resizeElement(element) {
    var _a;
    const availableWidth = (_a = element.parentElement) == null ? void 0 : _a.offsetWidth;
    const contentWidth = element.firstElementChild.offsetWidth;
    if (!availableWidth) {
      return;
    }
    const needScale = contentWidth > availableWidth;
    if (needScale) {
      const scale = availableWidth / contentWidth;
      element.style.transform = `scale(${scale})`;
    }
    element.parentElement.style.height = `${element.getBoundingClientRect().height + Padding.BOTTOM}px`;
  }
  function resizeElements() {
    document.querySelectorAll(Selector.WRAPPED_TABLE).forEach((element) => {
      resizeElement(element);
    });
  }
  function wrapTables() {
    const tables = document.querySelectorAll(Selector.TABLE);
    for (let i = 0; i < tables.length; i++) {
      const table = tables[i];
      const parent = table.parentNode;
      if (!parent) {
        continue;
      }
      const wrapper = document.createElement("div");
      parent.insertBefore(wrapper, table);
      wrapper.appendChild(table);
      wrapper.classList.add("yfm-table-container");
    }
  }
  if (typeof document !== "undefined") {
    window.addEventListener("load", () => {
      wrapTables();
      resizeElements();
    });
  }
})();
//# sourceMappingURL=print.js.map
