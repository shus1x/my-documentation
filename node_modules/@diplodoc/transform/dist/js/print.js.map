{
  "version": 3,
  "sources": ["../../src/js/print/table.ts"],
  "sourcesContent": ["const Selector = {\n    WRAPPED_TABLE: '.pdf .yfm-table-container table',\n    TABLE: '.pdf table',\n};\nconst Padding = {\n    BOTTOM: 20,\n};\n\nfunction resizeElement(element: HTMLElement) {\n    const availableWidth = element.parentElement?.offsetWidth;\n    const contentWidth = (element.firstElementChild as HTMLElement).offsetWidth;\n\n    if (!availableWidth) {\n        return;\n    }\n\n    const needScale = contentWidth > availableWidth;\n\n    if (needScale) {\n        const scale = availableWidth / contentWidth;\n\n        element.style.transform = `scale(${scale})`;\n    }\n\n    element.parentElement.style.height = `${\n        element.getBoundingClientRect().height + Padding.BOTTOM\n    }px`;\n}\n\nfunction resizeElements() {\n    document.querySelectorAll(Selector.WRAPPED_TABLE).forEach((element) => {\n        resizeElement(element as HTMLElement);\n    });\n}\n\nfunction wrapTables() {\n    const tables = document.querySelectorAll(Selector.TABLE);\n\n    for (let i = 0; i < tables.length; i++) {\n        const table = tables[i];\n\n        const parent = table.parentNode;\n\n        if (!parent) {\n            continue;\n        }\n\n        const wrapper = document.createElement('div');\n        parent.insertBefore(wrapper, table);\n        wrapper.appendChild(table);\n        wrapper.classList.add('yfm-table-container');\n    }\n}\n\nif (typeof document !== 'undefined') {\n    window.addEventListener('load', () => {\n        wrapTables();\n        resizeElements();\n    });\n}\n\nexport {};\n"],
  "mappings": ";;;AAAA,MAAM,WAAW;AAAA,IACb,eAAe;AAAA,IACf,OAAO;AAAA,EACX;AACA,MAAM,UAAU;AAAA,IACZ,QAAQ;AAAA,EACZ;AAEA,WAAS,cAAc,SAAsB;AAR7C;AASI,UAAM,kBAAiB,aAAQ,kBAAR,mBAAuB;AAC9C,UAAM,eAAgB,QAAQ,kBAAkC;AAEhE,QAAI,CAAC,gBAAgB;AACjB;AAAA,IACJ;AAEA,UAAM,YAAY,eAAe;AAEjC,QAAI,WAAW;AACX,YAAM,QAAQ,iBAAiB;AAE/B,cAAQ,MAAM,YAAY,SAAS,KAAK;AAAA,IAC5C;AAEA,YAAQ,cAAc,MAAM,SAAS,GACjC,QAAQ,sBAAsB,EAAE,SAAS,QAAQ,MACrD;AAAA,EACJ;AAEA,WAAS,iBAAiB;AACtB,aAAS,iBAAiB,SAAS,aAAa,EAAE,QAAQ,CAAC,YAAY;AACnE,oBAAc,OAAsB;AAAA,IACxC,CAAC;AAAA,EACL;AAEA,WAAS,aAAa;AAClB,UAAM,SAAS,SAAS,iBAAiB,SAAS,KAAK;AAEvD,aAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACpC,YAAM,QAAQ,OAAO,CAAC;AAEtB,YAAM,SAAS,MAAM;AAErB,UAAI,CAAC,QAAQ;AACT;AAAA,MACJ;AAEA,YAAM,UAAU,SAAS,cAAc,KAAK;AAC5C,aAAO,aAAa,SAAS,KAAK;AAClC,cAAQ,YAAY,KAAK;AACzB,cAAQ,UAAU,IAAI,qBAAqB;AAAA,IAC/C;AAAA,EACJ;AAEA,MAAI,OAAO,aAAa,aAAa;AACjC,WAAO,iBAAiB,QAAQ,MAAM;AAClC,iBAAW;AACX,qBAAe;AAAA,IACnB,CAAC;AAAA,EACL;",
  "names": []
}
