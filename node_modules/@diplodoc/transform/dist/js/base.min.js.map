{
  "version": 3,
  "sources": ["../../node_modules/get-root-node-polyfill/index.js", "../../src/js/polyfill.js", "../../src/js/utils.ts", "../../src/js/code.ts"],
  "sourcesContent": ["'use strict';\n\n// Node getRootNode(optional GetRootNodeOptions options);\n\n/**\n * Returns the context object\u2019s shadow-including root if options\u2019s composed is true.\n * Returns the context object\u2019s root otherwise.\n *\n * The root of an object is itself, if its parent is null, or else it is the root of its parent.\n *\n * The shadow-including root of an object is its root\u2019s host\u2019s shadow-including root,\n * if the object\u2019s root is a shadow root, and its root otherwise.\n *\n * https://dom.spec.whatwg.org/#dom-node-getrootnode\n *\n * @memberof Node.prototype\n * @param {!Object} [opt = {}] - Options.\n * @param {!boolean} [opt.composed] - See above description.\n * @returns {!Node} The root node.\n */\nfunction getRootNode(opt) {\n  var composed = typeof opt === 'object' && Boolean(opt.composed);\n\n  return composed ? getShadowIncludingRoot(this) : getRoot(this);\n}\n\nfunction getShadowIncludingRoot(node) {\n  var root = getRoot(node);\n\n  if (isShadowRoot(root)) {\n    return getShadowIncludingRoot(root.host);\n  }\n\n  return root;\n}\n\nfunction getRoot(node) {\n  if (node.parentNode != null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n\nfunction isShadowRoot(node) {\n  return node.nodeName === '#document-fragment' && node.constructor.name === 'ShadowRoot';\n}\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = getRootNode;\n}\n", "import getRootNode from 'get-root-node-polyfill';\n\nif (typeof document !== 'undefined') {\n    // matches polyfill for old edge\n    (function (e) {\n        const matches =\n            e.matches ||\n            e.matchesSelector ||\n            e.webkitMatchesSelector ||\n            e.mozMatchesSelector ||\n            e.msMatchesSelector ||\n            e.oMatchesSelector;\n\n        if (matches) {\n            e.matches = e.matchesSelector = matches;\n        } else {\n            e.matches = e.matchesSelector = function matches(selector) {\n                const rootNode = e.getRootNode ? e.getRootNode() : getRootNode.call(e);\n                const matches = rootNode.querySelectorAll(selector);\n                const th = this;\n                return Array.prototype.some.call(matches, (e) => {\n                    return e === th;\n                });\n            };\n        }\n    })(Element.prototype);\n}\n", "export const getEventTarget = (event: Event) => {\n    const path = event.composedPath();\n    return Array.isArray(path) && path.length > 0 ? path[0] : event.target;\n};\n\nexport const isCustom = (event: Event) => {\n    const target = getEventTarget(event);\n    return !target || !(target as HTMLElement).matches;\n};\n", "import {getEventTarget, isCustom} from './utils';\n\nconst BUTTON_SELECTOR = '.yfm-clipboard-button';\n\nfunction copyToClipboard(text: string) {\n    if (!text) {\n        return Promise.resolve();\n    }\n\n    if (navigator.clipboard && typeof navigator.clipboard.writeText) {\n        return navigator.clipboard.writeText(text);\n    }\n    const textarea = document.createElement('textarea');\n    textarea.setAttribute('style', 'position: absolute; left: 1000%');\n    textarea.textContent = text;\n    document.body.append(textarea);\n\n    textarea.select();\n    document.execCommand('copy');\n\n    document.body.removeChild(textarea);\n\n    return Promise.resolve();\n}\n\nfunction notifySuccess(svgButton: HTMLElement | null) {\n    if (!svgButton) {\n        return;\n    }\n\n    const id = svgButton.getAttribute('data-animation');\n    // @ts-expect-error\n    const icon = svgButton.getRootNode().getElementById(`visibileAnimation-${id}`);\n\n    if (!icon) {\n        return;\n    }\n\n    icon.beginElement();\n}\n\nif (typeof document !== 'undefined') {\n    document.addEventListener('click', (event) => {\n        const target = getEventTarget(event) as HTMLElement;\n\n        if (isCustom(event) || !target.matches(BUTTON_SELECTOR)) {\n            return;\n        }\n\n        const parent = target.parentNode;\n\n        if (!parent) {\n            return;\n        }\n\n        const code = parent.querySelector<HTMLElement>('pre code');\n        if (!code) {\n            return;\n        }\n\n        copyToClipboard(code.innerText).then(() => {\n            notifySuccess(parent.querySelector('.yfm-clipboard-icon'));\n        });\n    });\n}\n"],
  "mappings": "giBAAAA,EAAAC,EAAA,CAAA,+CAAAC,EAAAC,EAAA,CAAA,aAoBA,SAASC,EAAYC,EAAK,CACxB,IAAIC,EAAW,OAAOD,GAAQ,UAAY,EAAQA,EAAI,SAEtD,OAAOC,EAAWC,EAAuB,IAAI,EAAIC,EAAQ,IAAI,CAC/D,CAEA,SAASD,EAAuBE,EAAM,CACpC,IAAIC,EAAOF,EAAQC,CAAI,EAEvB,OAAIE,EAAaD,CAAI,EACZH,EAAuBG,EAAK,IAAI,EAGlCA,CACT,CAEA,SAASF,EAAQC,EAAM,CACrB,OAAIA,EAAK,YAAc,KACdD,EAAQC,EAAK,UAAU,EAGzBA,CACT,CAEA,SAASE,EAAaF,EAAM,CAC1B,OAAOA,EAAK,WAAa,sBAAwBA,EAAK,YAAY,OAAS,YAC7E,CAEI,OAAON,GAAW,UAAYA,EAAO,UACvCA,EAAO,QAAUC,EACnB,CAAA,CAAA,EClDAQ,EAAwBC,EAAAb,EAAA,CAAA,EAEpB,OAAO,UAAa,aAEnB,SAAU,EAAG,CACV,IAAMc,EACF,EAAE,SACF,EAAE,iBACF,EAAE,uBACF,EAAE,oBACF,EAAE,mBACF,EAAE,iBAEFA,EACA,EAAE,QAAU,EAAE,gBAAkBA,EAEhC,EAAE,QAAU,EAAE,gBAAkB,SAAiBC,EAAU,CAEvD,IAAMD,GADW,EAAE,YAAc,EAAE,YAAY,EAAIF,EAAAR,QAAY,KAAK,CAAC,GAC5C,iBAAiBW,CAAQ,EAC5CC,EAAK,KACX,OAAO,MAAM,UAAU,KAAK,KAAKF,EAAUG,GAChCA,IAAMD,CAChB,CACL,CAER,EAAG,QAAQ,SAAS,ECzBjB,IAAME,EAAkBC,GAAiB,CAC5C,IAAMC,EAAOD,EAAM,aAAa,EAChC,OAAO,MAAM,QAAQC,CAAI,GAAKA,EAAK,OAAS,EAAIA,EAAK,CAAC,EAAID,EAAM,MACpE,EAEaE,EAAYF,GAAiB,CACtC,IAAMG,EAASJ,EAAeC,CAAK,EACnC,MAAO,CAACG,GAAU,CAAEA,EAAuB,OAC/C,ECNMC,EAAkB,wBAExB,SAASC,EAAgBC,EAAc,CACnC,GAAI,CAACA,EACD,OAAO,QAAQ,QAAQ,EAG3B,GAAI,UAAU,WAAa,OAAO,UAAU,UAAU,UAClD,OAAO,UAAU,UAAU,UAAUA,CAAI,EAE7C,IAAMC,EAAW,SAAS,cAAc,UAAU,EAClD,OAAAA,EAAS,aAAa,QAAS,iCAAiC,EAChEA,EAAS,YAAcD,EACvB,SAAS,KAAK,OAAOC,CAAQ,EAE7BA,EAAS,OAAO,EAChB,SAAS,YAAY,MAAM,EAE3B,SAAS,KAAK,YAAYA,CAAQ,EAE3B,QAAQ,QAAQ,CAC3B,CAEA,SAASC,EAAcC,EAA+B,CAClD,GAAI,CAACA,EACD,OAGJ,IAAMC,EAAKD,EAAU,aAAa,gBAAgB,EAE5CE,EAAOF,EAAU,YAAY,EAAE,eAAe,qBAAqBC,CAAE,EAAE,EAExEC,GAILA,EAAK,aAAa,CACtB,CAEI,OAAO,UAAa,aACpB,SAAS,iBAAiB,QAAUX,GAAU,CAC1C,IAAMG,EAASJ,EAAeC,CAAK,EAEnC,GAAIE,EAASF,CAAK,GAAK,CAACG,EAAO,QAAQC,CAAe,EAClD,OAGJ,IAAMQ,EAAST,EAAO,WAEtB,GAAI,CAACS,EACD,OAGJ,IAAMC,EAAOD,EAAO,cAA2B,UAAU,EACpDC,GAILR,EAAgBQ,EAAK,SAAS,EAAE,KAAK,IAAM,CACvCL,EAAcI,EAAO,cAAc,qBAAqB,CAAC,CAC7D,CAAC,CACL,CAAC",
  "names": ["require_get_root_node_polyfill", "__commonJS", "exports", "module", "getRootNode", "opt", "composed", "getShadowIncludingRoot", "getRoot", "node", "root", "isShadowRoot", "import_get_root_node_polyfill", "__toESM", "matches", "selector", "th", "e", "getEventTarget", "event", "path", "isCustom", "target", "BUTTON_SELECTOR", "copyToClipboard", "text", "textarea", "notifySuccess", "svgButton", "id", "icon", "parent", "code"]
}
